# Qualitative analysis and Quantifying Variability of Manual Annotations #



## Introduction

This project is about monitor and assess the eventual manual annotation task done on the pre-annotated documents.

The project includes a script that computes inter-annotation agreement (IAA) and compares the pre-annotations with the eventual manual annotations to monitor the human annotation task.


## Directory structure

- [**`Script/`**](Script/): 
This folder contains the script needed for comparing different annotations records (different annotators have done that) for the same file
and finally comparing the manually annotated files with pre-annotated files by [SpaCTeS tool](https://github.com/siabar/SpaCTeS).

  - [**`compareAnnotations.py`**](Script/compareAnnotations.py): Monitor and assess the eventual manual annotation task done on the pre-annotated documents.
    1) Computes inter-annotation agreement (IAA).
       Outputs are [IAA_ANN](Annotated/IAA_ANN) [IAA_CSV](Annotated/IAA_CSV) Directories, which include results of computing inter-annotation agreement for each document (ANN and CSV formats, Respectively). Each file has all manual annotations of annotators for the given document.
    2) Compares the [the eventual manual annotations](Annotated/annotators) with [the pre-annotations](Annotated/cTAKES) by [SpaCTeS tool](https://github.com/siabar/SpaCTeS) to monitor the human annotation task.
       It detects which pre-annotated variables have been changed, accepted, removed and 
       which variables have been added by annotators.
       Also, calculate statistical analysis on how many variables have been added/accepted/changed/removed.
       The output is in [analysis](Annotated/analysis) directory.

    **Note**: "comparing_ann.py" script creates all output directories of this part.

- [**`Annotated/`**](Annotated/)
This folder contains the results of monitoring and assessing the eventual manual annotation task done on the pre-annotated documents that have generated by [SpaCTeS tool](https://github.com/siabar/SpaCTeS).

  - [**`annotators/`**](Annotated/annotators/): original files for each annotator.
  - [**`pre_processing/`**](Annotated/pre_processing/): directory for cleaned ANN files after removing un-necassery annotations.
  - [**`IAA_ANN/`**](Annotated/IAA_ANN/): includes ANN files with all manual annotations of annotators for given files
  - [**`IAA_CSV/`**](Annotated/IAA_CSV/):  Result of comparing annotators' activities in csv files
    (shows all opinion of annotators for each annotations of given files.).
  - [**`analysis/`**](Annotated/analysis/): Compares the [the eventual manual annotations](Annotated/annotators) with [the pre-annotations](Annotated/cTAKES) by [SpaCTeS tool](https://github.com/siabar/SpaCTeS) to monitor the human annotation task.
    It detects which pre-annotated variables have been changed, accepted, removed and which variables have been added by annotators.
    Also, calculate statistical analysis on how many variables have been added/accepted/changed/removed.


## Usage

**For monitor and assess the eventual manual annotation task done on the pre-annotated documents, use following command**: 

    python3 compareAnnotations.py [options] 

Options:
<pre>
--set      Number of bunch that we want to do comparing [For example: 01]
</pre>


## Contact

Siamak Barzegar (siamak.barzegar@bsc.es)
